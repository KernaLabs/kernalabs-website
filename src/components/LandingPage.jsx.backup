import React, { useState, useEffect, lazy, Suspense } from 'react';
import MediaCard from './MediaCard';
import AnimatedSection from './AnimatedSection';
import StaggeredText from './StaggeredText';
import RotatingText from './RotatingText';
import InstitutionLogo from './InstitutionLogo';
import useCarousel from '../hooks/useCarousel';
import { teamMembers } from '../data/teamMembers';

// Lazy load the DNA animation
const DNACursorAnimation = lazy(() => import('./DNACursorAnimation'));

const LandingPage = ({ contentReady = true }) => {
  // Mobile state
  const [isMobile, setIsMobile] = useState(false);
    position: 'Co-founder & CTO',
    image: '/team/Amit Deshwar.jpg',
    description: [
      'Former Founding Scientist & Head of Platform @ Deep Genomics',
      '10+ years of experience in ML for RNA biology',
      'AI Scientific Advisory Board @ Deep Genomics, Aperture Tx, Synkrino Biotherapeutics',
      'PhD Machine Learning @ University of Toronto',
    ],
    institutions: [
      { name: 'Deep Genomics', logo: '/logos/dg-logo.png' },
      { name: 'University of Toronto', logo: '/logos/uoft-text-logo.png' }
    ]
  },
  {
    name: 'Melissa J. Moore, PhD',
    position: 'Co-founder',
    image: '/team/Melissa Moore.jpg',
    description: [
      'CSO Emerita @ Moderna',
      'Led development of platform behind Covid-19 vaccine',
      'PI @ Howard Hughes Medical Institute',
      'PI @ UMass Medical',
      'Director @ RNA Therapeutics Institute',
      'National Academy of Sciences',
      'PhD Biological Chemistry @ MIT',
    ],
    institutions: [
      { name: 'Moderna', logo: '/logos/moderna-text-logo.png' },
      { name: 'UMass Medical', logo: '/logos/umc-text-logo.png' },
      { name: 'RNA Therapeutics Institute', logo: '/logos/rnati-logo.png' }
    ]
  },
  {
    name: 'Julia Peng',
    position: 'Co-founder & CEO',
    image: '/team/Julia Peng.jpg',
    description: [
      'Prev Go-to-Market @ Confluent',
      '8+ years in deeptech partnerships, GTM, B2B sales',
      'Prev founder of biomaterials company developing novel drug delivery devices',
      'BSc Economics @ The Wharton School',
    ],
    institutions: [
      { name: 'Wharton', logo: '/logos/wharton-text-logo.png' },
      { name: 'Confluent', logo: '/logos/confluent-text-logo.png' },
      { name: 'JP Morgan', logo: '/logos/jpm-logo.png' }
    ]
  },
  {
    name: 'Michael Swift, PhD',
    position: 'Founding Scientist',
    image: '/team/Michael Swift.jpg',
    description: [
      'High-throughput biology, single-cell and multi-omics expertise',
      '10+ years in RNA biology',
      'Research Fellow @ Longitude Capital',
      'Researcher @ miRagen Therapeutics',
      'PhD Systems Biology @ Stanford University',
    ],
    institutions: [
      { name: 'Stanford', logo: '/logos/stanford-text-logo.png' },
      { name: 'Longitude Capital', logo: '/logos/longitude-text-logo.png' },
      { name: 'miRagen', logo: '/logos/mgen-logo.png' }
    ]
  },
  {
    name: 'Oliver Chang, PhD',
    position: 'Platform Scientist',
    image: '/team/Oliver Chang.jpg',
    description: [
      '7+ years of R&D experience in mammalian cell engineering and synthetic biology',
      'Expert in CRISPR, optogenetics, and biomolecular condensates',
      'Developed scalable image analysis pipelines for HPC systems',
      'PhD in Chemistry @ Princeton University',
      'Published 4 papers in high-impact journals, including Cell and Nature Cell Biology',
      'Spearheaded a genome organization platform integrating CRISPR, optogenetics, and genomic imaging',
    ],
    institutions: [
      { name: 'Princeton', logo: '/logos/princeton-text-logo.png' },
      { name: 'ODBI', logo: '/logos/odi-text-logo.png' }
    ]
  },
  {
    name: 'Aaron Mazel-Gee, PhD',
    position: 'Machine Learning Engineer',
    image: '/team/Aaron Mazel-Gee.jpg',
    description: [
      'Assistant Professor of Mathematics @ USC (2017-2024), specializing in ∞-category theory & homotopy',
      'Author of forthcoming textbook “Higher Algebra: Chapter 0” (Cambridge University Press)',
      'PI on NSF-funded grants; 20+ peer-reviewed papers in geometry & algebraic topology',
      'Transitioned to AI in 2024; mechanistic-interpretability researcher @ Tilde → ML Engineer @ Kerna Labs',
      'PhD Mathematics @ UC Berkeley; Post-doctoral fellow @ Caltech & Ohio State University',
    ],
    institutions: [
      { name: 'Caltech', logo: '/logos/caltech-text-logo.png' },
      { name: 'USC', logo: '/logos/usc-text-logo.png' },
      { name: 'Ohio State University', logo: '/logos/osu-text-logo.png' },
      { name: 'UC Berkeley', logo: '/logos/ucb-text-logo.png' }
    ]
  },
  {
    name: 'Catherine Stehman-Breen, MD',
    position: 'Advisor',
    image: '/team/Catherine Stehman-Breen.jpg',
    description: [
      'Chief Executive Officer @ Chroma Medicine (2020-2024) until merger with Nvelop',
      'Chief Medical Officer @ Sarepta Therapeutics (2017) & @ Dyne/Disarm Therapeutics (2018-2019)',
      'Vice President, Clinical Development & Regulatory Affairs @ Regeneron (2015-2017)',
      '12-year leadership tenure @ Amgen leading neuroscience, nephrology & bone programs',
      'Independent Board Director @ Generation Bio, Tenaya Therapeutics & Dyne Therapeutics',
      'MD University of Chicago; MS Epidemiology & Nephrology fellowship @ University of Washington',
    ],
    institutions: [
      { name: 'Chroma Medicine', logo: '/logos/choma-text-logo.png' },
      { name: 'Sarepta Therapeutics', logo: '/logos/sarepta-text-logo.png' },
      { name: 'Dyne Therapeutics', logo: '/logos/dyne-text-logo.png' },
      { name: 'Regeneron', logo: '/logos/regeneron-text-logo.png' },
      { name: 'Amgen', logo: '/logos/amgen-text-logo.png' }
    ]
  },
  {
    name: 'Jacob Kimmel, PhD',
    position: 'Advisor',
    image: '/team/Jacob Kimmel.jpg',
    description: [
      'Co-founder & President @ NewLimit, creating epigenetic reprogramming therapeutics',
      'Principal Investigator & Computational Fellow @ Calico Life Sciences, leading cell-rejuvenation research',
      'Expert in single-cell genomics & ML; published in Cell, Nature Biotech, PNAS',
      'PhD Stem-Cell Biology @ UCSF (NSF Center for Cellular Construction)',
    ],
    institutions: [
      { name: 'NewLimit', logo: '/logos/newlimit-text-logo.png' },
      { name: 'Calico Life Sciences', logo: '/logos/calico-text-logo.png' },
    ]
  },
  {
    name: 'Michael Czech, PhD',
    position: 'Advisor',
    image: '/team/Michael Czech.jpg',
    description: [
      'Isadore & Fannie Foxman Chair of Medical Research @ UMass Chan Medical School',
      'Founding Chair, Program in Molecular Medicine (1989-2018); grew program to 36 labs',
      'Pioneer of insulin-signaling & adipocyte biology; 450+ publications, >39 k citations',
      'Applied RNAi & CRISPR to identify metabolic-disease targets & NASH therapeutics',
      'PhD Biochemistry @ Brown University; Post-doc @ Duke University Medical Center',
    ],
    institutions: [
      { name: 'UMass Medical', logo: '/logos/umc-text-logo.png' },
      { name: 'HHMI', logo: '/logos/hhmi-text-logo.png' },
    ]
  },
  {
    name: 'Silvia Corvera, MD',
    position: 'Advisor',
    image: '/team/Silvia Corvera.jpg',
    description: [
      'Professor & Endowed Chair in Diabetes Research @ UMass Chan Medical School',
    'Leads lab on human adipose-tissue development, thermogenic fat & metabolic disease',
    'Director, Clinical Translational Research Pathway, T.H. Chan School of Medicine',
    'MD & MSc Molecular Biology @ Universidad Nacional Autónoma de México; former faculty @ UPenn',
  
    ],
    institutions: [
      { name: 'University of Pennsylvania', logo: '/logos/upenn-text-logo.png' },
      { name: 'UMass Medical', logo: '/logos/umc-text-logo.png' },
    ]
  },
  {
    name: 'Vinit Mahajan, MD, PhD',
    position: 'Advisor',
    image: '/team/Vinit Mahajan.jpg',
    description: [
      'Professor of Ophthalmology & Vice-Chair for Research @ Stanford University',
    'NIH-funded Molecular Surgery & Omics Lab developing gene-therapy & proteomics for retinal disease',
    'Performed first CRISPR-based eye-disease gene-editing in human stem cells; leads two retinal gene-therapy trials',
    'Vitreoretinal surgeon with >300 peer-reviewed publications; trained 20+ surgical fellows worldwide',
  
    ],
    institutions: [
      { name: 'Stanford', logo: '/logos/stanford-text-logo.png' },
    ]
  },
  {
    name: 'Aryan Misra',
    position: 'ML Intern',
    image: '/team/Aryan Misra.jpg',
    description: [
      'Generative AI, deep probabilistic modelling, Bayesian active learning, systems design',
      '12+ years in engineering and machine learning',
      'Founding Engineer @ Bitswap',
      'BSc Mathematics, BSc Statistics @ University of Toronto',
    ],
  

  // Team carousel (section 5) states
  const [canScrollLeft, setCanScrollLeft] = useState(false);
  const [canScrollRight, setCanScrollRight] = useState(true);
  const carouselRef = useRef(null);
  const [isDragging, setIsDragging] = useState(false);
  const [startX, setStartX] = useState(0);
  const [scrollLeft, setScrollLeft] = useState(0);

  // Therapeutics carousel (section 4) states
  const therapeuticsCarouselRef = useRef(null);
  const [isDraggingTherapeutics, setIsDraggingTherapeutics] = useState(false);
  const [startXTherapeutics, setStartXTherapeutics] = useState(0);
  const [scrollLeftTherapeutics, setScrollLeftTherapeutics] = useState(0);

  useEffect(() => {
    const handleScroll = () => {
      if (!carouselRef.current) return;
      
      const { scrollLeft, scrollWidth, clientWidth } = carouselRef.current;
      setCanScrollLeft(scrollLeft > 10);
      setCanScrollRight(scrollLeft < scrollWidth - clientWidth - 10);
    };

    const carousel = carouselRef.current;
    if (carousel) {
      carousel.addEventListener('scroll', handleScroll);
      // Initial check
      handleScroll();
    }

    return () => {
      if (carousel) {
        carousel.removeEventListener('scroll', handleScroll);
      }
    };
  }, []);

  const scrollLeftFunc = () => {
    if (!carouselRef.current) return;
    const cardWidth = 320 + 16; // card width + gap
    carouselRef.current.scrollBy({
      left: -cardWidth * 3,
      behavior: 'smooth'
    });
  };

  const scrollRightFunc = () => {
    if (!carouselRef.current) return;
    const cardWidth = 320 + 16; // card width + gap
    carouselRef.current.scrollBy({
      left: cardWidth * 3,
      behavior: 'smooth'
    });
  };

  useEffect(() => {
    if (carouselRef.current) {
      carouselRef.current.scrollLeft = 0;
      setCanScrollLeft(false);
      setCanScrollRight(true);
    }
  }, []);

  const handleMouseDown = (e) => {
    setIsDragging(true);
    setStartX(e.pageX - carouselRef.current.offsetLeft);
    setScrollLeft(carouselRef.current.scrollLeft);
  };

  const handleMouseLeave = () => {
    setIsDragging(false);
  };

  const handleMouseUp = () => {
    setIsDragging(false);
  };

  const handleMouseMove = (e) => {
    if (!isDragging) return;
    e.preventDefault();
    const x = e.pageX - carouselRef.current.offsetLeft;
    const walk = (x - startX) * 1;
    carouselRef.current.scrollLeft = scrollLeft - walk;
  };


  // Therapeutics carousel drag handlers
  const handleMouseDownTherapeutics = (e) => {
    setIsDraggingTherapeutics(true);
    setStartXTherapeutics(e.pageX - therapeuticsCarouselRef.current.offsetLeft);
    setScrollLeftTherapeutics(therapeuticsCarouselRef.current.scrollLeft);
  };

  const handleMouseLeaveTherapeutics = () => {
    setIsDraggingTherapeutics(false);
  };

  const handleMouseUpTherapeutics = () => {
    setIsDraggingTherapeutics(false);
  };

  const handleMouseMoveTherapeutics = (e) => {
    if (!isDraggingTherapeutics) return;
    e.preventDefault();
    const x = e.pageX - therapeuticsCarouselRef.current.offsetLeft;
    const walk = (x - startXTherapeutics) * 1;
    therapeuticsCarouselRef.current.scrollLeft = scrollLeftTherapeutics - walk;
  };

  // Therapeutics scroll check effect


  // Mobile check and grid dimensions effect
  useEffect(() => {
    const handleResize = () => {
      setIsMobile(window.innerWidth < 768); // 768px is the md breakpoint
    };
    
    handleResize();
    window.addEventListener('resize', handleResize);
    
    return () => window.removeEventListener('resize', handleResize);
  }, []);


  return (
    <div
      className="fixed inset-0 w-screen overflow-y-scroll overflow-x-hidden bg-black"
      style={{ 
        backgroundImage: `linear-gradient(to bottom, 
          rgba(0, 0, 0, 0.85) 0%, 
          rgba(14, 23, 43, 0.3) 25%,
          rgba(14, 23, 43, 0.3) 75%,
          rgba(0, 0, 0, 0.85) 100%
        ), url('/BackgroundSwirls.png')`, 
        backgroundSize: 'cover', 
        backgroundPosition: 'center bottom', 
        backgroundAttachment: 'fixed' 
      }}
    >
      {/* Section 1: Better Genetic Medicines */}
      <section id="main" className="min-h-screen w-full flex items-center relative">
        {/* DNA Cursor Animation - absolute positioned to cover the section */}
        <div className="absolute inset-0 overflow-hidden">
          <Suspense fallback={<div className="w-full h-full" />}>
            <DNACursorAnimation 
              baseSize={isMobile ? 10 : 12}
              growSize={isMobile ? 16 : 20}
              growDistance={isMobile ? 120 : 180}
              gapX={isMobile ? 50 : 40}
              gapY={isMobile ? 50 : 40}
              colorPalette={['#666666', '#777777', '#888888', '#999999']}
              animationDuration={0.2}
              containerClassName="w-full h-full"
            />
          </Suspense>
        </div>
        
        <div className="container mx-auto max-w-7xl relative z-20 pointer-events-none px-4 sm:px-6 lg:px-8">
          <div className="w-full sm:max-w-lg md:max-w-2xl lg:max-w-3xl">
            <h1 className="font-semibold leading-tight text-kerna-beige">
              {/* First line - responsive sizing */}
              <span className="block text-fluid-3xl sm:text-fluid-4xl md:text-fluid-5xl lg:text-fluid-6xl">
                <StaggeredText 
                  text="Better genetic medicines," 
                  delay={100}
                  startDelay={300}
                  ready={contentReady}
                />
              </span>
              
              {/* Second line - smaller on mobile, same size on desktop */}
              <div className="block text-fluid-2xl sm:text-fluid-3xl md:text-fluid-5xl lg:text-fluid-6xl mt-1 sm:mt-2">
                <RotatingText 
                  words={['built', 'designed', 'engineered']} 
                  interval={3000}
                  className="text-kerna-red inline align-text-bottom"
                />
                <span className="inline align-baseline ml-2 sm:ml-3 whitespace-nowrap">
                  <StaggeredText 
                    text="with AI." 
                    delay={100}
                    startDelay={1200}
                    ready={contentReady}
                    className="inline"
                  />
                </span>
              </div>
            </h1>
            <div className="w-full sm:max-w-md lg:max-w-lg mt-4 md:mt-6">
              <p className={`text-fluid-sm sm:text-fluid-base md:text-fluid-lg text-kerna-beige/90 transition-all duration-1000 delay-1400 ${
                contentReady ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'
              }`}>
                Kerna Labs is unlocking the full potential of mRNA as the universal toolkit for genetic medicine.
              </p>
            </div>
          </div>
        </div>
        <div 
          className="select-none absolute right-0 top-1/2 transform -translate-y-1/2 w-[120%] sm:w-[70%] md:w-[60%] lg:w-[45%] h-auto mask-fade-vertical"
        >
          {/* <img 
            src="/hazy_droplet.svg" 
            alt="Hazy Droplet" 
            className="w-full h-full object-contain select-none"
          /> */}
        </div>
      </section>

      {/* <section id="platform" className="snap-start h-screen w-full flex items-center relative overflow-hidden">
        <div 
          className="absolute right-0 top-1/2 md:top-2/3 w-[150%] sm:w-4/5 md:w-5/6 h-auto transform -translate-y-1/3 md:-translate-y-1/2 mask-fade-bottom"
        >
          <img 
            src="/trail.svg" 
            alt="Particle Trail" 
            className="w-full h-full object-scale-down scale-200 sm:scale-150 md:scale-125 select-none -rotate-2 translate-x-[30%] -translate-y-[10%] origin-center"
          />
        </div>

        <div className="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative z-10">
          <div className="grid grid-cols-1 md:grid-cols-2 gap-16 md:gap-24">
            <div className="relative">
              <div className="absolute -left-4 -top-4 w-20 h-20 bg-kerna-darkred/10 rounded-full blur-2xl" />
              <div className="bg-black/30 backdrop-blur-sm backdrop-brightness-90 border border-white/10 rounded-none p-8 relative">
                <div className="absolute -left-2 -top-2 w-16 h-1 bg-kerna-darkred" />
                <div className="absolute -left-2 -top-2 w-1 h-16 bg-kerna-darkred" />
                <h2 className="text-xl md:text-2xl font-medium leading-tight text-kerna-beige mb-6">
                  Despite its potential, mRNA is held back by key bottlenecks in payload design and delivery.
                </h2>
                <p className="text-base text-kerna-red drop-shadow-md">
                  Kerna Labs solves these key limitations with cutting-edge payload design.
                </p>
              </div>
            </div>

            <div className="relative mt-12 md:mt-32">
              <div className="absolute -right-4 -bottom-4 w-20 h-20 bg-kerna-darkred/10 rounded-full blur-2xl" />
              <div className="bg-black/30 backdrop-blur-sm backdrop-brightness-75 border border-white/10 rounded-none p-8 relative">
                <div className="absolute -right-2 -bottom-2 w-16 h-1 bg-kerna-darkred" />
                <div className="absolute -right-2 -bottom-2 w-1 h-16 bg-kerna-darkred" />
                <h2 className="text-xl md:text-2xl font-medium leading-tight text-kerna-beige mb-6">
                  Unlocking New Potential in RNA-Based Therapies
                </h2>
                <p className="text-base text-kerna-red drop-shadow-md">
                  We leverage advanced computational techniques and high-throughput biology to fundamentally change the way we do drug discovery and development.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section> */}

      {/* Section 4: MRNA Therapeutics */}
      <section id="therapeutics" className="min-h-screen flex flex-col">
        <div className="flex-1 flex flex-col justify-center">
          <div className="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <AnimatedSection animation="fadeInUp" className="mb-16">
              <h2 className="text-fluid-3xl sm:text-fluid-4xl lg:text-fluid-5xl font-medium text-kerna-beige mb-4">
                A Foundation Model for mRNA Therapeutics
              </h2>
              <p className="text-fluid-base sm:text-fluid-lg text-kerna-beige/60 max-w-2xl">
                We leverage AI and high-throughput biology to decode RNA biology.
              </p>
            </AnimatedSection>
          </div>

          <div className="relative">
            {/* Carousel */}
            <div 
              ref={therapeuticsCarouselRef}
              className="overflow-x-auto hide-scrollbar no-select cursor-grab active:cursor-grabbing pl-carousel pr-4"
              onMouseDown={handleMouseDownTherapeutics}
              onMouseLeave={handleMouseLeaveTherapeutics}
              onMouseUp={handleMouseUpTherapeutics}
              onMouseMove={handleMouseMoveTherapeutics}
            >
              <div className="flex gap-4 pb-6">
                <AnimatedSection animation="slideInLeft" delay={0} className="flex-none w-[380px]">
                  <div className="relative h-full bg-gradient-to-br from-kerna-beige/5 to-kerna-beige/10 backdrop-blur-md border border-kerna-beige/10 hover:border-kerna-beige/20 hover:from-kerna-beige/10 hover:to-kerna-beige/15 transition-all duration-300 group shadow-lg hover:shadow-xl">
                    <div className="p-8 flex flex-col h-full">
                      <div className="mb-6 w-10 h-10">
                        <img src="/icons/line-graph.svg" alt="Line Graph" className="w-full h-full" />
                      </div>
                      <h3 className="text-kerna-beige text-fluid-xl font-medium mb-3">Expression Curve Tuning</h3>
                      <p className="text-kerna-beige/70 text-fluid-sm leading-relaxed">Customizable expression profiles for diverse therapeutic applications.</p>
                    </div>
                  </div>
                </AnimatedSection>

                <AnimatedSection animation="slideInLeft" delay={200} className="flex-none w-[380px]">
                  <div className="relative h-full bg-gradient-to-br from-kerna-beige/5 to-kerna-beige/10 backdrop-blur-md border border-kerna-beige/10 hover:border-kerna-beige/20 hover:from-kerna-beige/10 hover:to-kerna-beige/15 transition-all duration-300 group shadow-lg hover:shadow-xl">
                    <div className="p-8 flex flex-col h-full">
                      <div className="mb-6 w-10 h-10">
                        <img src="/icons/aim.svg" alt="Target" className="w-full h-full" />
                      </div>
                      <h3 className="text-kerna-beige text-fluid-xl font-medium mb-3">Cell-Type Specific Expression</h3>
                      <p className="text-kerna-beige/70 text-fluid-sm leading-relaxed">Precision-targeted delivery for cell-specific therapeutic effects.</p>
                    </div>
                  </div>
                </AnimatedSection>

                <AnimatedSection animation="slideInLeft" delay={400} className="flex-none w-[380px]">
                  <div className="relative h-full bg-gradient-to-br from-kerna-beige/5 to-kerna-beige/10 backdrop-blur-md border border-kerna-beige/10 hover:border-kerna-beige/20 hover:from-kerna-beige/10 hover:to-kerna-beige/15 transition-all duration-300 group shadow-lg hover:shadow-xl">
                    <div className="p-8 flex flex-col h-full">
                      <div className="mb-6 w-10 h-10">
                        <img src="/icons/clock.svg" alt="Clock" className="w-full h-full" />
                      </div>
                      <h3 className="text-kerna-beige text-fluid-xl font-medium mb-3">Enhanced Half-life</h3>
                      <p className="text-kerna-beige/70 text-fluid-sm leading-relaxed">Prolonged efficacy window through optimized mRNA stability.</p>
                    </div>
                  </div>
                </AnimatedSection>
                
                <div className="w-[calc((100vw-1280px)/2)] flex-none" aria-hidden="true" />
              </div>
            </div>
          </div>
        </div>
        
        <AnimatedSection animation="fadeIn" threshold={0.8}>
          <div className="bg-kerna-beige">
            <div className="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
              <div className="flex items-center py-8 md:py-12">
                <AnimatedSection animation="slideInLeft" className="w-1 h-16 bg-kerna-darkred mr-6 flex-shrink-0"></AnimatedSection>
                <AnimatedSection animation="fadeInUp" delay={200}>
                  <p className="text-fluid-base sm:text-fluid-lg md:text-fluid-xl lg:text-fluid-2xl text-kerna-darkblue font-medium leading-snug">
                    Our platform designs mRNA sequences that drive magnitude higher protein output with unprecedented cell-type precision.
                  </p>
                </AnimatedSection>
              </div>
            </div>
          </div>
        </AnimatedSection>
      </section>

      {/* Section 5: Team */}
      <section id="team" className="min-h-screen flex flex-col">
        <div className="flex-1 flex flex-col justify-center">
          <div className="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <AnimatedSection animation="fadeInUp" className="mb-16">
              <h2 className="text-fluid-3xl sm:text-fluid-4xl lg:text-fluid-5xl font-medium text-kerna-beige mb-4">
                Meet Our Team
              </h2>
              <p className="text-fluid-base sm:text-fluid-lg text-kerna-beige/60 max-w-2xl">
                Built and backed by the leading minds in machine learning and mRNA.
              </p>
            </AnimatedSection>
          </div>

          <div className="relative">
            <div 
              ref={carouselRef}
              className="overflow-x-auto overflow-y-hidden hide-scrollbar no-select cursor-grab active:cursor-grabbing pl-carousel pr-4"
              onMouseDown={handleMouseDown}
              onMouseLeave={handleMouseLeave}
              onMouseUp={handleMouseUp}
              onMouseMove={handleMouseMove}
            >
              <div className="flex gap-4 pb-4">
                {teamMembers.map((member, idx) => (
                  <AnimatedSection
                    key={idx}
                    animation="fadeInUp"
                    delay={idx * 50}
                    className="flex-none w-[320px]"
                  >
                    <div className="h-full bg-gradient-to-br from-kerna-beige/5 to-kerna-beige/10 backdrop-blur-md border border-kerna-beige/10 hover:border-kerna-beige/20 hover:from-kerna-beige/10 hover:to-kerna-beige/15 transition-all duration-300 group shadow-lg hover:shadow-xl">
                    <div className="p-8 flex flex-col h-[440px]">
                      {/* Image section */}
                      <div className="flex items-center justify-center mb-6">
                        <img 
                          src={member.image} 
                          alt={member.name} 
                          className="w-24 h-24 rounded-full object-cover select-none pointer-events-none transition-all duration-300 group-hover:brightness-110"
                          draggable="false"
                        />
                      </div>
                      
                      {/* Text section */}
                      <div className="text-center mb-6">
                        <h3 className="text-fluid-lg font-medium text-kerna-beige mb-1">
                          {member.name}
                        </h3>
                        <p className="text-kerna-beige/60 uppercase tracking-wider text-fluid-sm">
                          {member.position}
                        </p>
                      </div>
                      
                      {/* Institution logos section */}
                      <div className="mt-auto pt-4">
                        <div className="min-h-[80px] flex items-center justify-center px-4">
                          <div className="flex items-center justify-center gap-3 flex-wrap max-w-full">
                            {member.institutions && member.institutions.map((institution, instIdx) => (
                              <InstitutionLogo
                                key={instIdx}
                                logo={institution.logo}
                                name={institution.name}
                              />
                            ))}
                          </div>
                        </div>
                      </div>
                    </div>
                    </div>
                  </AnimatedSection>
                ))}
                <div className="w-[calc((100vw-1280px)/2)] flex-none" aria-hidden="true" />
              </div>
            </div>

            {/* Navigation arrows - positioned absolutely */}
            <div className="absolute left-0 right-0 top-1/2 -translate-y-1/2 pointer-events-none">
              <div className="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <div className="flex justify-between">
                  <button 
                    onClick={scrollLeftFunc}
                    disabled={!canScrollLeft}
                    className={`pointer-events-auto w-12 h-12 flex items-center justify-center bg-black/50 backdrop-blur-sm border border-white/20 rounded-full transition-all ${
                      canScrollLeft ? 'opacity-100 hover:bg-black/70' : 'opacity-30 cursor-not-allowed'
                    }`}
                  >
                    <svg className="w-6 h-6 text-white rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
                    </svg>
                  </button>
                  <button 
                    onClick={scrollRightFunc}
                    disabled={!canScrollRight}
                    className={`pointer-events-auto w-12 h-12 flex items-center justify-center bg-black/50 backdrop-blur-sm border border-white/20 rounded-full transition-all ${
                      canScrollRight ? 'opacity-100 hover:bg-black/70' : 'opacity-30 cursor-not-allowed'
                    }`}
                  >
                    <svg className="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        {/* Team Banner */}
        <AnimatedSection animation="fadeIn" threshold={0.9}>
          <div className="bg-kerna-beige">
            <div className="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6">
              <div className="text-center">
                <AnimatedSection animation="fadeInUp" delay={0}>
                  <h3 className="text-fluid-lg sm:text-fluid-2xl md:text-fluid-3xl text-kerna-darkblue font-medium mb-3 sm:mb-4">
                    Built by a world-class team
                  </h3>
                </AnimatedSection>
                
                {/* Journal Logos */}
                <AnimatedSection animation="fadeIn" delay={200}>
                  <div className="flex items-center justify-center gap-3 sm:gap-4 md:gap-6 mb-4 sm:mb-6 flex-wrap">
                <img 
                  src="/logos/cell-logo.png" 
                  alt="Cell" 
                  className="h-6 sm:h-8 md:h-10 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity"
                />
                <img 
                  src="/logos/nature-text-logo.png" 
                  alt="Nature" 
                  className="h-6 sm:h-8 md:h-10 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity"
                />
                <img 
                  src="/logos/science-logo.png" 
                  alt="Science" 
                  className="h-6 sm:h-8 md:h-10 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity"
                />
                <img 
                  src="/logos/pnas-logo.png" 
                  alt="PNAS" 
                  className="h-6 sm:h-8 md:h-10 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity"
                />
                  </div>
                </AnimatedSection>
                
                <AnimatedSection animation="fadeInUp" delay={400}>
                  <h3 className="text-fluid-lg sm:text-fluid-2xl md:text-fluid-3xl text-kerna-darkblue font-medium mb-3 sm:mb-4">
                    Backed by visionary partners
                  </h3>
                </AnimatedSection>
                
                {/* Partner Logos */}
                <AnimatedSection animation="fadeIn" delay={600}>
                  <div className="flex items-center justify-center gap-3 sm:gap-4 md:gap-6 flex-wrap">
                <img 
                  src="/logos/gradient-logo.png" 
                  alt="Gradient Ventures" 
                  className="h-6 sm:h-8 md:h-10 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity"
                />
                <img 
                  src="/logos/humba-logo.png" 
                  alt="Humba Ventures" 
                  className="h-6 sm:h-8 md:h-10 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity"
                />
                <img 
                  src="/logos/tau-logo.png" 
                  alt="Tau Ventures" 
                  className="h-6 sm:h-8 md:h-10 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity"
                />
                <img 
                  src="/logos/pioneer-logo.png" 
                  alt="Pioneer Fund" 
                  className="h-6 sm:h-8 md:h-10 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity"
                />
                  </div>
                </AnimatedSection>
              </div>
            </div>
          </div>
        </AnimatedSection>
      </section>

      {/* Section 6: Our Mission - Commented out */}
      {/* <section id="mission" className="min-h-screen flex flex-col">
        <div className="flex-1 flex flex-col justify-center">
          {/* Heading - stays left-aligned */}
          {/* <div className="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mb-8">
            <div className="relative inline-block">
              <h2 className="text-2xl sm:text-3xl md:text-4xl font-normal text-kerna-beige">
                Our Mission
              </h2>
              <div className="absolute -left-2 -bottom-2 w-12 h-0.5 bg-kerna-red"></div>
            </div>
          </div> */}
          
          {/* Content container */}
          {/* <div className="px-4 sm:px-6 lg:px-8">
            <div className="max-w-screen-2xl mx-auto">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-0 md:gap-8 lg:gap-12">
                {/* Image Container */}
                {/* <div className="relative aspect-[4/3] md:aspect-auto md:h-[400px] lg:h-[500px] overflow-hidden">
                  <div className="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent z-10 md:hidden"></div>
                  <img 
                    src="/team/TeamPhoto.jpg" 
                    alt="Team" 
                    className="w-full h-full object-cover"
                  />
                </div> */}
                
                {/* Text Container */}
                {/* <div className="relative md:flex md:items-center">
                  <div className="p-6 bg-black/30 backdrop-blur-sm border border-white/10 rounded-none -mt-20 py-20 md:mt-0 md:py-0 relative z-20 w-full h-full flex flex-col justify-center">
                    <div className="absolute -left-2 -top-2 w-16 h-1 bg-kerna-red hidden md:block"></div>
                    <div className="absolute -left-2 -top-2 w-1 h-16 bg-kerna-red hidden md:block"></div>
                    
                    <div>
                      <p className="text-base sm:text-lg md:text-xl lg:text-2xl text-kerna-beige mb-6 font-normal text-center">
                        We are revolutionizing genetic medicine
                      </p>
                      <p className="text-sm sm:text-base md:text-lg text-kerna-beige/70 font-light leading-relaxed text-center">
                        We are paving the way for a new generation of therapies by leveraging AI and high-throughput biology to decode RNA biology.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section> */}

      {/* Section 6: Media & Publications */}
      <section id="media" className="min-h-screen py-20 sm:py-24 lg:py-32">
        <div className="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
          {/* Heading and Intro */}
          <AnimatedSection animation="fadeInUp" className="mb-16">
            <h2 className="text-fluid-3xl sm:text-fluid-4xl lg:text-fluid-5xl font-medium text-kerna-beige mb-4">
              <StaggeredText 
                text="Media & Publications" 
                animateOnView={true}
                delay={100}
              />
            </h2>
            <AnimatedSection animation="fadeIn" delay={300}>
              <p className="text-fluid-base sm:text-fluid-lg text-kerna-beige/60 max-w-2xl">
                Pioneering the next era of genetic medicine.
              </p>
            </AnimatedSection>
            <AnimatedSection animation="fadeIn" delay={500}>
              <p className="text-fluid-base sm:text-fluid-lg text-kerna-beige/60 max-w-3xl mt-2">
                We are building large-scale machine learning models to design mRNA with unmatched potency, targeting, and safety.
              </p>
            </AnimatedSection>
          </AnimatedSection>

          {/* Media List */}
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 auto-rows-fr">
              {/* News Items */}
              <AnimatedSection animation="fadeInUp" delay={100}>
                <MediaCard 
                  href="https://www.asbmb.org/asbmb-today/careers/040225/melissa-moore-to-speak-at-asbmb-2025"
                  logo="/logos/asbmb-text-logo.png"
                  date="April 2, 2025"
                  title="Melissa Moore to speak at ASBMB 2025"
                  description="Renowned RNA biochemist Melissa Moore will take center stage at ASBMB's 2025 Annual Meeting."
                  isPublication={false}
                />
              </AnimatedSection>
              
              <AnimatedSection animation="fadeInUp" delay={200}>
                <MediaCard 
                  href="https://endpoints.news/modernas-former-top-scientist-moore-has-a-new-mrna-startup/"
                  logo="/logos/endpoint-text-logo.png"
                  date="January 10, 2025"
                  title="Exclusive: Moderna's former top scientist has a new startup using AI to improve mRNA therapies"
                  description="Kerna Labs was founded in 2024 by industry veterans Amit Deshwar, Melissa J. Moore, and Julia Peng."
                  isPublication={false}
                />
              </AnimatedSection>

              {/* Publications */}
              <AnimatedSection animation="fadeInUp" delay={300}>
                <MediaCard 
                  href="https://genome.cshlp.org/content/34/3/394.short"
                  logo="/logos/csh-text-logo.png"
                  date="March 20, 2024"
                  title="Translation dependent and independent mRNA decay occur through mutually exclusive pathways defined by ribosome density during T cell activation"
                  description="A breakthrough in RNA language modeling, enabling unprecedented understanding and design of RNA sequences."
                  isPublication={true}
                />
              </AnimatedSection>

              <AnimatedSection animation="fadeInUp" delay={400}>
                <MediaCard 
                  href="https://www.nature.com/articles/s41573-023-00827-x"
                  logo="/logos/naturerdd-text-logo.png"
                  date="November 29, 2023"
                  title="Tailor made: the art of therapeutic mRNA design"
                  description="Comprehensive analysis of regulatory elements and their role in muscle development and function."
                  isPublication={true}
                />
              </AnimatedSection>

              <AnimatedSection animation="fadeInUp" delay={500}>
                <MediaCard 
                  href="https://www.nature.com/articles/s41587-022-01525-6"
                  logo="/logos/naturebiotech-text-logo.png"
                  date="November 10, 2022"
                  title="An engineered T7 RNA polymerase that produces mRNA free of immunostimulatory byproducts"
                  description="A breakthrough in mRNA production, enabling safer and more effective therapies."
                  isPublication={true}
                />
              </AnimatedSection>
          </div>
        </div>
      </section>

      {/* Join Us Section */}
      <AnimatedSection animation="fadeIn" threshold={0.2}>
        <section id="contact" className="bg-kerna-red min-h-[40vh] max-h-[40vh] items-center relative">
          
          <div className="container mx-auto px-4 min-h-[40vh] max-h-[40vh]">
            <div className="relative mx-auto px-4 min-h-[40vh] max-h-[40vh] flex flex-col justify-between sm:justify-start py-16 ml-12 lg:ml-24">
              <div className="absolute left-[-2rem] lg:left-[-3rem] top-[calc(16px+2.5rem)] w-0.5 h-[calc(100%-16px-2.5rem)] bg-kerna-beige/60"></div>

              <AnimatedSection animation="slideUp" delay={200}>
                <div>
                  <h2 className="text-fluid-3xl sm:text-fluid-4xl text-kerna-beige mb-6 md:mb-8">
                    Connect With Us
                  </h2>
                  <p className="text-fluid-base sm:text-fluid-lg text-kerna-beige/80 mb-12">
                    Learn more about how we're enabling our partners in their mRNA pipeline development.
                  </p>
                </div>
              </AnimatedSection>
              
              <AnimatedSection animation="fadeInUp" delay={400}>
                <a 
                  href="mailto:founders@kernalabs.ai" 
                  className="flex-auto max-h-16 inline-flex items-center gap-3 bg-kerna-beige/90 hover:bg-kerna-beige transition-colors px-8 py-4 text-kerna-red w-fit mt-auto mb-8"
                >
                  Contact Us
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.172 11L10.808 5.63605L12.222 4.22205L20 12L12.222 19.778L10.808 18.364L16.172 13H4V11H16.172Z" fill="currentColor"/>
                  </svg>
                </a>
              </AnimatedSection>
            </div>
          </div>
        </section>
      </AnimatedSection>

      {/* Footer */}
      <AnimatedSection animation="fadeIn" threshold={0.1}>
        <footer 
          className="h-[30vh] relative flex flex-col bg-black"
          style={{ 
            backgroundImage: `linear-gradient(to bottom, 
            rgba(0, 0, 0, 0.8) 66%, 
            rgba(15, 20, 24 , 0.6) 80%,
            rgba(15, 20, 24, 0.6) 86%,
            rgba(0, 0, 0, 0.8) 100%), url('/BackgroundSwirls.png')`, 
            backgroundSize: 'cover', 
            backgroundPosition: 'center bottom',
            backgroundAttachment: 'fixed' 
          }}
        >
          <div className="flex-1 flex flex-col lg:flex-row items-center justify-center lg:justify-between container mx-auto px-4">
            {/* Left side - Leaf logo and social links */}
            <AnimatedSection animation="fadeInUp" delay={100} className="flex flex-col items-center my-8">
              <img src="/icons/KernaLeaf.svg" alt="Kerna Leaf" className="w-24 h-auto mb-6 select-none" />
              <div className="flex justify-center gap-6">
                <a href="https://twitter.com/KernaLabs" target="_blank" rel="noreferrer" className="w-12 h-12 flex items-center justify-center bg-kerna-beige/90 hover:bg-kerna-beige/100 rounded-full transition-all hover:scale-110 duration-300">
                  <img src="/icons/XIcon.svg" alt="Twitter/X" className="w-6 h-6" />
                </a>
                <a href="https://linkedin.com/company/kernalabs" target="_blank" rel="noreferrer" className="w-12 h-12 flex items-center justify-center bg-kerna-beige/90 hover:bg-kerna-beige/100 rounded-full transition-all hover:scale-110 duration-300">
                  <img src="/icons/LinkedInIcon.svg" alt="LinkedIn" className="w-6 h-6" />
                </a>
              </div>
            </AnimatedSection>

            {/* Right side - Text logo and copyright */}
            <AnimatedSection animation="fadeIn" delay={300} className="text-center lg:text-right lg:w-[70%]">
              <img src="/icons/TextOnlyLogo.svg" alt="Kerna Labs" className="mx-auto lg:ml-auto lg:mr-0 mb-4 w-full max-w-md lg:max-w-none h-auto opacity-10 select-none" />
              <p className="text-kerna-beige text-fluid-sm">
                © 2025 Kerna Labs
              </p>
            </AnimatedSection>
          </div>
        </footer>
      </AnimatedSection>
    </div>
  );
};

export default LandingPage;
